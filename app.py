import streamlit as st
import pandas as pd

# 1. ุฅุนุฏุงุฏุงุช ุงูุตูุญุฉ ูุงูุฌูุงููุงุช
st.set_page_config(page_title="ููุณูุนุฉ ููุงุชุฑ ุงูุฒูุช ุงูุณุนูุฏูุฉ ุงูุดุงููุฉ", page_icon="๐", layout="wide")

st.markdown("""
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap');
    html, body, [class*="css"] { font-family: 'Tajawal', sans-serif; text-align: right; direction: rtl; }
    .stMetric { background-color: #ffffff; padding: 15px; border-radius: 12px; border: 1px solid #e0e0e0; box-shadow: 2px 2px 5px rgba(0,0,0,0.05); }
    .main-header { color: #1E3A8A; text-align: center; padding: 20px; background: #f8f9fa; border-radius: 15px; margin-bottom: 25px; border-bottom: 5px solid #1E3A8A; }
    </style>
    """, unsafe_allow_html=True)

# 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุนููุงูุฉ (ุชู ุฏูุฌ ุฌููุน ุงููุงุฑูุงุช ูุงููุฆุงุช)
raw_data = [
    # --- TOYOTA ---
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฏูุฑูุฒุฑ 300", "ุงูุฌูู": "2022-2025", "ุงููุญุฑู": "V6 3.5T (V35A-FTS)", "ุงูููุชุฑ": "90915-20005", "ุงูุฒูุช": "7.3 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุญุฑู ุงูุชูุฑุจู ุงูุฌุฏูุฏ"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฏูุฑูุฒุฑ 200", "ุงูุฌูู": "2008-2021", "ุงููุญุฑู": "V8 5.7L / 4.6L", "ุงูููุชุฑ": "04152-YZZA4", "ุงูุฒูุช": "7.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุชุฑ ูุฑูู ุฏุงุฎูู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฏูุฑูุฒุฑ 100", "ุงูุฌูู": "1998-2007", "ุงููุญุฑู": "V8 4.7L (2UZ-FE)", "ุงูููุชุฑ": "90915-20004", "ุงูุฒูุช": "6.8 ูุชุฑ", "ุงููุฒูุฌุฉ": "10W-40", "ููุงุญุธุฉ": "ููุฏูู VXR ุงููุฏูู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฑู", "ุงูุฌูู": "2018-2025", "ุงููุญุฑู": "2.5L / Hybrid", "ุงูููุชุฑ": "04152-YZZA1", "ุงูุฒูุช": "4.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุชุทูุจ ููุชุงุญ ูู ุฎุงุต 64.5mm"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฑู", "ุงูุฌูู": "2003-2017", "ุงููุญุฑู": "2.4L / 2.5L", "ุงูููุชุฑ": "90915-YZZE2", "ุงูุฒูุช": "4.4 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุงูููุชุฑ ุงูุญุฏูุฏ ุงูุฃูุซุฑ ุดููุนุงู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงูุฑู", "ุงูุฌูู": "1996-2002", "ุงููุญุฑู": "2.2L (5S-FE)", "ุงูููุชุฑ": "90915-YZZE1", "ุงูุฒูุช": "3.8 ูุชุฑ", "ุงููุฒูุฌุฉ": "20W-50", "ููุงุญุธุฉ": "ูุงูุฑู ุงุณุชุฎุฏุงู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ุฃูุงููู", "ุงูุฌูู": "2013-2022", "ุงููุญุฑู": "V6 3.5L", "ุงูููุชุฑ": "04152-YZZA1", "ุงูุฒูุช": "6.1 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ูุญุฑู 2GR-FE"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ููุฑููุง", "ุงูุฌูู": "2020-2025", "ุงููุญุฑู": "1.5L / 1.8L / 2.0L", "ุงูููุชุฑ": "90915-YZZE1", "ุงูุฒูุช": "3.8-4.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ุญุณุจ ุญุฌู ุงููุญุฑู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงููููุณ", "ุงูุฌูู": "2016-2025", "ุงููุญุฑู": "2.7L (2TR-FE)", "ุงูููุชุฑ": "90915-YZZD2", "ุงูุฒูุช": "5.6 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุจูุฒูู"},
    {"ุงูุดุฑูุฉ": "ุชูููุชุง", "ุงูููุฏูู": "ูุงููููุณ ุฏูุฒู", "ุงูุฌูู": "2016-2025", "ุงููุญุฑู": "2.4L / 2.8L (1GD/2GD)", "ุงูููุชุฑ": "90915-YZZD2", "ุงูุฒูุช": "7.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30 (C3)", "ููุงุญุธุฉ": "ุชุฃูุฏ ูู ุชูุงูู ุงูุฒูุช ูุน DPF"},

    # --- NISSAN ---
    {"ุงูุดุฑูุฉ": "ููุณุงู", "ุงูููุฏูู": "ุจุงุชุฑูู Y62", "ุงูุฌูู": "2010-2025", "ุงููุญุฑู": "V8 5.6L / V6 4.0L", "ุงูููุชุฑ": "15208-AR000", "ุงูุฒูุช": "6.8 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุณุงู ุจูุงุชููููู / ุจุทู ุงูุฏุฑูุจ"},
    {"ุงูุดุฑูุฉ": "ููุณุงู", "ุงูููุฏูู": "ุจุงุชุฑูู Y61", "ุงูุฌูู": "1998-2024", "ุงููุญุฑู": "4.8L (VTC)", "ุงูููุชุฑ": "15208-VC10A", "ุงูุฒูุช": "8.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "20W-50", "ููุงุญุธุฉ": "ููุณุงู ูุชู"},
    {"ุงูุดุฑูุฉ": "ููุณุงู", "ุงูููุฏูู": "ุตูู", "ุงูุฌูู": "2020-2025", "ุงููุญุฑู": "1.6L (HR16DE)", "ุงูููุชุฑ": "15208-65F0A", "ุงูุฒูุช": "3.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุงูุดูู ุงูุฌุฏูุฏ"},
    {"ุงูุดุฑูุฉ": "ููุณุงู", "ุงูููุฏูู": "ุตูู N17", "ุงูุฌูู": "2012-2019", "ุงููุญุฑู": "1.5L", "ุงูููุชุฑ": "15208-70J00", "ุงูุฒูุช": "3.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "10W-30", "ููุงุญุธุฉ": "ุตูู ููุงุณูู"},
    {"ุงูุดุฑูุฉ": "ููุณุงู", "ุงูููุฏูู": "ุฃูุชููุง", "ุงูุฌูู": "2019-2025", "ุงููุญุฑู": "2.5L", "ุงูููุชุฑ": "15208-65F0A", "ุงูุฒูุช": "4.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุญุฑู PR25DD"},

    # --- HYUNDAI & KIA ---
    {"ุงูุดุฑูุฉ": "ููููุฏุงู", "ุงูููุฏูู": "ุณููุงุชุง", "ุงูุฌูู": "2020-2025", "ุงููุญุฑู": "2.5L Smartstream", "ุงูููุชุฑ": "26350-2J000", "ุงูุฒูุช": "5.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุญุฑู ุณูุงุฑุช ุณุชุฑูู"},
    {"ุงูุดุฑูุฉ": "ููููุฏุงู", "ุงูููุฏูู": "ุณููุงุชุง", "ุงูุฌูู": "2011-2019", "ุงููุญุฑู": "2.4L Theta II", "ุงูููุชุฑ": "26300-35505", "ุงูุฒูุช": "4.8 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุงูููุชุฑ ุงููุนุฏูู"},
    {"ุงูุดุฑูุฉ": "ููููุฏุงู", "ุงูููุฏูู": "ุฅููุชุฑุง", "ุงูุฌูู": "2016-2025", "ุงููุญุฑู": "1.6L / 2.0L", "ุงูููุชุฑ": "26300-35505", "ุงูุฒูุช": "4.0 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุฃูุซุฑ ุงูุณูุงุฑุงุช ุงูุชุดุงุฑุงู"},
    {"ุงูุดุฑูุฉ": "ููููุฏุงู", "ุงูููุฏูู": "ุฃูุณูุช", "ุงูุฌูู": "2011-2025", "ุงููุญุฑู": "1.4L / 1.6L", "ุงูููุชุฑ": "26300-35505", "ุงูุฒูุช": "3.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ูุญุฑูุงุช MPI"},
    {"ุงูุดุฑูุฉ": "ููุง", "ุงูููุฏูู": "ุณุจูุฑุชุฌ", "ุงูุฌูู": "2022-2025", "ุงููุญุฑู": "2.0L / 1.6T", "ุงูููุชุฑ": "26300-35505", "ุงูุฒูุช": "4.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุงูุดูู ุงูุฌุฏูุฏ"},

    # --- GMC & CHEVROLET ---
    {"ุงูุดุฑูุฉ": "ุฌูุณ/ุดูููุฑููู", "ุงูููุฏูู": "ูููู / ุชุงูู", "ุงูุฌูู": "2021-2025", "ุงููุญุฑู": "V8 5.3L / 6.2L", "ุงูููุชุฑ": "PF63E", "ุงูุฒูุช": "7.6 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ููุฏููุงุช T1 - ูุญุฑูุงุช L84/L87"},
    {"ุงูุดุฑูุฉ": "ุฌูุณ/ุดูููุฑููู", "ุงูููุฏูู": "ูููู / ุชุงูู", "ุงูุฌูู": "2015-2020", "ุงููุญุฑู": "V8 5.3L", "ุงูููุชุฑ": "PF63E", "ุงูุฒูุช": "7.6 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ููุฏููุงุช K2 - ูุญุฑู L83"},
    {"ุงูุดุฑูุฉ": "ุฌูุณ/ุดูููุฑููู", "ุงูููุฏูู": "ูููู / ุชุงูู", "ุงูุฌูู": "2007-2014", "ุงููุญุฑู": "V8 5.3L", "ุงูููุชุฑ": "PF48 / PF48E", "ุงูุฒูุช": "5.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุฏููุงุช GMT900"},
    {"ุงูุดุฑูุฉ": "ุฌูุณ/ุดูููุฑููู", "ุงูููุฏูู": "ุณููุฑุง / ุณููุฑุงุฏู", "ุงูุฌูู": "2014-2025", "ุงููุญุฑู": "V8 5.3L", "ุงูููุชุฑ": "PF63E", "ุงูุฒูุช": "7.6 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ููุณ ููุงุตูุงุช ุงููููู"},
    {"ุงูุดุฑูุฉ": "ุดูููุฑููู", "ุงูููุฏูู": "ูุงุจุฑุณ / ูููููุง", "ุงูุฌูู": "2007-2016", "ุงููุญุฑู": "V8 6.0L (LS2/L98)", "ุงูููุชุฑ": "PF48", "ุงูุฒูุช": "7.1 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ูุงุจุฑุณ ุงุณุชุฑุงูู"},

    # --- FORD ---
    {"ุงูุดุฑูุฉ": "ููุฑุฏ", "ุงูููุฏูู": "ุชูุฑุณ", "ุงูุฌูู": "2023-2025", "ุงููุญุฑู": "2.0T EcoBoost", "ุงูููุชุฑ": "AA5Z-6714-A / FL-910S", "ุงูุฒูุช": "5.4 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุชูุฑุณ ุงูุฌุฏูุฏุฉ"},
    {"ุงูุดุฑูุฉ": "ููุฑุฏ", "ุงูููุฏูู": "ุชูุฑุณ", "ุงูุฌูู": "2010-2019", "ุงููุญุฑู": "V6 3.5L", "ุงูููุชุฑ": "FL-500S", "ุงูุฒูุช": "5.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-20 / 5W-30", "ููุงุญุธุฉ": "ุชูุฑุณ ุงูุดูู ุงููุฏูู"},
    {"ุงูุดุฑูุฉ": "ููุฑุฏ", "ุงูููุฏูู": "ููุชูุฑูุง / ูุงุฑููุฒ", "ุงูุฌูู": "1998-2012", "ุงููุญุฑู": "V8 4.6L", "ุงูููุชุฑ": "FL-820S", "ุงูุฒูุช": "5.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุฏููุงุช ุงูููุฑุฏ ุงูููุงุณูููุฉ"},
    {"ุงูุดุฑูุฉ": "ููุฑุฏ", "ุงูููุฏูู": "ุฅูุณุจูุฏุดู", "ุงูุฌูู": "2018-2025", "ุงููุญุฑู": "V6 3.5T EcoBoost", "ุงูููุชุฑ": "FL-500S", "ุงูุฒูุช": "5.7 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ูุญุฑู ุงูุชูุฑุจู"},

    # --- MAZDA ---
    {"ุงูุดุฑูุฉ": "ูุงุฒุฏุง", "ุงูููุฏูู": "ูุงุฒุฏุง 6 / CX-5", "ุงูุฌูู": "2014-2025", "ุงููุญุฑู": "2.5L Skyactiv", "ุงูููุชุฑ": "PE01-14-302", "ุงูุฒูุช": "4.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุญุฑูุงุช ุณูุงู ุฃูุชูู"},
    {"ุงูุดุฑูุฉ": "ูุงุฒุฏุง", "ุงูููุฏูู": "CX-9", "ุงูุฌูู": "2017-2024", "ุงููุญุฑู": "2.5T Turbo", "ุงูููุชุฑ": "PY8W-14-302", "ุงูุฒูุช": "4.8 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุชุฑ ุฎุงุต ุจูุญุฑู ุงูุชูุฑุจู"},

    # --- CHINESE ---
    {"ุงูุดุฑูุฉ": "ุชุดุงูุฌุงู", "ุงูููุฏูู": "CS95 / CS75 Plus", "ุงูุฌูู": "2020-2025", "ุงููุญุฑู": "2.0T", "ุงูููุชุฑ": "ุฃุตูู ุชุดุงูุฌุงู", "ุงูุฒูุช": "5.5 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ููุชุฑ ุงูููุงูุฉ"},
    {"ุงูุดุฑูุฉ": "ุฌููู", "ุงูููุฏูู": "ูููุฑุงู", "ุงูุฌูู": "2020-2025", "ุงููุญุฑู": "1.5T (3-Cyl)", "ุงูููุชุฑ": "ุฃุตูู ุฌููู", "ุงูุฒูุช": "4.2 ูุชุฑ", "ุงููุฒูุฌุฉ": "0W-20", "ููุงุญุธุฉ": "ูุญุฑู ููููู ุงููุดุชุฑู"},
    {"ุงูุดุฑูุฉ": "ูุงูุงู", "ุงูููุฏูู": "H6 / ุฌูููุงู", "ุงูุฌูู": "2021-2025", "ุงููุญุฑู": "1.5T / 2.0T", "ุงูููุชุฑ": "ุฃุตูู ูุงูุงู", "ุงูุฒูุช": "5.0 ูุชุฑ", "ุงููุฒูุฌุฉ": "5W-30", "ููุงุญุธุฉ": "ุชุฃูุฏ ูู ูุฒูุฌุฉ SP"},
]

df = pd.DataFrame(raw_data)

# 3. ุจูุงุก ูุงุฌูุฉ ุงูุชุทุจูู
st.markdown('<div class="main-header"><h1>๐ธ๐ฆ ููุณูุนุฉ ููุงุชุฑ ูุฒููุช ุงูุณูุงุฑุงุช ุงูุณุนูุฏูุฉ</h1><p>ุฏููู ูุงูู ูุดุงูู ูุฌููุน ุงูููุฏููุงุช (1995-2025)</p></div>', unsafe_allow_html=True)

# ุดุฑูุท ุฌุงูุจู ููุจุญุซ ุงูุณุฑูุน
with st.sidebar:
    st.header("๐ ุจุญุซ ูุตู ุณุฑูุน")
    search_query = st.text_input("ุงูุชุจ ุงุณู ุงูุณูุงุฑุฉ (ูุซูุงู: ูุงูุฏูุฑูุฒุฑ)")
    st.divider()
    st.write("ุชู ุฌูุน ุงูุจูุงูุงุช ุจูุงุกู ุนูู ููุงุตูุงุช ุงููููุงุก ูู ุงูููููุฉ ุงูุนุฑุจูุฉ ุงูุณุนูุฏูุฉ.")

if search_query:
    results = df[df['ุงูููุฏูู'].str.contains(search_query, case=False) | df['ุงูุดุฑูุฉ'].str.contains(search_query, case=False)]
    if not results.empty:
        st.table(results)
    else:
        st.warning("ุนุฐุฑุงูุ ูู ูุฌุฏ ูุชุงุฆุฌ ููุฐุง ุงูุจุญุซ.")

st.subheader("๐๏ธ ุงุจุญุซ ุนุจุฑ ุงูููุงุฆู")
col1, col2, col3 = st.columns(3)

with col1:
    brand = st.selectbox("1. ุงุฎุชุฑ ูุงุฑูุฉ ุงูุณูุงุฑุฉ", [""] + sorted(df["ุงูุดุฑูุฉ"].unique().tolist()))

if brand:
    with col2:
        model = st.selectbox("2. ุงุฎุชุฑ ุงูููุฏูู", [""] + sorted(df[df["ุงูุดุฑูุฉ"] == brand]["ุงูููุฏูู"].unique().tolist()))
    
    if model:
        with col3:
            year = st.selectbox("3. ุงุฎุชุฑ ุงูุฌูู / ุงูุณูุฉ", [""] + sorted(df[(df["ุงูุดุฑูุฉ"] == brand) & (df["ุงูููุฏูู"] == model)]["ุงูุฌูู"].unique().tolist()))

        if year:
            res = df[(df["ุงูุดุฑูุฉ"] == brand) & (df["ุงูููุฏูู"] == model) & (df["ุงูุฌูู"] == year)].iloc[0]
            
            st.divider()
            st.success(f"### ูุชุงุฆุฌ ุงูุจุญุซ ูุณูุงุฑุฉ: {brand} {model}")
            
            # ุนุฑุถ ุงูุตูุฑ ุงูุชูุถูุญูุฉ ูููุน ุงูููุชุฑ
            st.write("---")
            c1, c2, c3 = st.columns(3)
            with c1:
                st.metric("ุฑูู ุงูููุชุฑ ุงูุฃุตูู (OEM)", res["ุงูููุชุฑ"])
            with c2:
                st.metric("ูููุฉ ุงูุฒูุช (ูุน ุงูููุชุฑ)", res["ุงูุฒูุช"])
            with c3:
                st.metric("ุงููุฒูุฌุฉ ุงูููุตู ุจูุง", res["ุงููุฒูุฌุฉ"])
            
            st.info(f"โ๏ธ **ุงููุญุฑู:** {res['ุงููุญุฑู']} | ๐ **ููุงุญุธุฉ ูููุฉ:** {res['ููุงุญุธุฉ']}")
            
            st.write("---")
            # ุชูุจูู ุจุฎุตูุต ุฃููุงุน ุงูููุงุชุฑ
            st.markdown("#### ๐ก ูุนูููุฉ ุชููู:")
            if "ูุฑูู" in res["ููุงุญุธุฉ"] or "04152" in res["ุงูููุชุฑ"]:
                 st.warning("ูุฐู ุงูุณูุงุฑุฉ ุชุณุชุฎุฏู **ููุชุฑ ูุฑูู (Cartridge)**. ุชุฃูุฏ ูู ุงุณุชุจุฏุงู ุงูุฑุจูุงุช (ุงูุญููุงุช ุงููุทุงุทูุฉ) ุงููุฑููุฉ ูู ุงููุฑุชูู ูุถูุงู ุนุฏู ุงูุชูุฑูุจ.")
                 
            else:
                 st.info("ูุฐู ุงูุณูุงุฑุฉ ุชุณุชุฎุฏู **ููุชุฑ ุญุฏูุฏ (Spin-on)**. ุชุฃูุฏ ูู ุชุฒููุช ุงูุฑุจูุฉ ุงูุณูุฏุงุก ูุจู ุงูุชุฑููุจ ูุฑุจุทู ุจุงููุฏ ุจุฅุญูุงู.")

st.divider()
st.caption("ุญููู ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญููุธุฉ - ุชุญุฏูุซ ูุจุฑุงูุฑ 2026")
